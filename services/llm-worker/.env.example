# Worker Configuration
NODE_ENV=development
WORKER_ID=llm-worker-1
WORKER_CONCURRENCY=5
WORKER_BATCH_SIZE=10
WORKER_TIMEOUT=300000

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Ollama Configuration
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_TIMEOUT=300000
OLLAMA_MAX_CONNECTIONS=10
OLLAMA_HEALTH_CHECK_INTERVAL=30000
OLLAMA_MODEL_LOAD_TIMEOUT=120000
OLLAMA_MAX_RETRIES=3
OLLAMA_RETRY_DELAY=1000

# Queue Configuration
QUEUE_CHAT_NAME=llm-chat
QUEUE_EMBEDDINGS_NAME=llm-embeddings
QUEUE_BATCH_NAME=llm-batch
QUEUE_PRIORITY_NAME=llm-priority
QUEUE_MAX_ATTEMPTS=3
QUEUE_DELAY=1000
QUEUE_BACKOFF_TYPE=exponential
QUEUE_REMOVE_ON_COMPLETE=100
QUEUE_REMOVE_ON_FAIL=50

# Model Configuration
DEFAULT_CHAT_MODEL=llama2
DEFAULT_EMBEDDING_MODEL=llama2
ALLOWED_MODELS=llama2,codellama,mistral,phi,neural-chat
MODEL_PRELOAD_ENABLED=true
MODEL_PRELOAD_LIST=llama2,mistral
MODEL_UNLOAD_TIMEOUT=300000
MODEL_MEMORY_THRESHOLD=0.8

# Fallback Configuration
ENABLE_MODEL_FALLBACK=true
FALLBACK_MODELS=llama2,mistral,phi
ENABLE_CIRCUIT_BREAKER=true
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60000
CIRCUIT_BREAKER_RESET_TIMEOUT=300000

# Performance Configuration
ENABLE_BATCH_PROCESSING=true
BATCH_TIMEOUT=5000
ENABLE_STREAMING=true
ENABLE_GPU_OPTIMIZATION=true
MEMORY_LIMIT=8192
GPU_MEMORY_LIMIT=4096

# Monitoring Configuration
METRICS_ENABLED=true
HEALTH_CHECK_PORT=3008
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_PERFORMANCE_MONITORING=true
PERFORMANCE_SAMPLE_RATE=0.1

# Database Configuration (for metadata)
DATABASE_URL=postgresql://lms_user:lms_password@localhost:5432/lms_llm_worker
DB_HOST=localhost
DB_PORT=5432
DB_NAME=lms_llm_worker
DB_USER=lms_user
DB_PASSWORD=lms_password

# Kafka Configuration
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=llm-worker
KAFKA_GROUP_ID=llm-worker-group

# External Services
ANALYTICS_SERVICE_URL=http://localhost:8080
AUDIT_SERVICE_URL=http://localhost:3009

# Resource Management
MAX_CONCURRENT_REQUESTS=10
REQUEST_QUEUE_SIZE=100
MEMORY_CLEANUP_INTERVAL=60000
MODEL_CACHE_SIZE=5
RESPONSE_CACHE_TTL=3600

# Error Handling
ENABLE_DEAD_LETTER_QUEUE=true
DEAD_LETTER_QUEUE_NAME=llm-dead-letter
ERROR_RETRY_ATTEMPTS=3
ERROR_RETRY_DELAY=2000
ENABLE_ERROR_NOTIFICATIONS=true

# Security
ENABLE_REQUEST_VALIDATION=true
MAX_PROMPT_LENGTH=8192
MAX_RESPONSE_LENGTH=16384
ENABLE_CONTENT_FILTERING=false

# Development
ENABLE_DEBUG_MODE=false
ENABLE_REQUEST_LOGGING=true
ENABLE_RESPONSE_LOGGING=false
MOCK_OLLAMA_RESPONSES=false
