# Server Configuration
NODE_ENV=development
PORT=3008
HOST=0.0.0.0
LOG_LEVEL=info

# Database Configuration
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/lms_search
VECTOR_DB_URL=postgresql://postgres:postgres@localhost:5432/lms_search
DB_POOL_MIN=2
DB_POOL_MAX=10

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# Elasticsearch Configuration
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=
ELASTICSEARCH_INDEX_PREFIX=lms
ELASTICSEARCH_MAX_RESULT_WINDOW=10000
ELASTICSEARCH_TIMEOUT=30000

# Vector Search Configuration
VECTOR_DIMENSIONS=1536
SIMILARITY_THRESHOLD=0.7
MAX_VECTOR_RESULTS=100
VECTOR_SEARCH_TIMEOUT=5000

# LLM Integration
LLM_GATEWAY_URL=http://localhost:3010
DEFAULT_EMBEDDING_MODEL=text-embedding-ada-002
DEFAULT_RAG_MODEL=gpt-4
RAG_MAX_CONTEXTS=10
RAG_CONTEXT_MAX_TOKENS=4000
RAG_TEMPERATURE=0.3
RAG_MAX_TOKENS=1000

# Search Configuration
DEFAULT_SEARCH_LIMIT=20
MAX_SEARCH_LIMIT=100
SEARCH_TIMEOUT_MS=5000
ENABLE_QUERY_EXPANSION=true
ENABLE_SPELL_CHECK=true
MIN_QUERY_LENGTH=2

# Caching Configuration
CACHE_SEARCH_RESULTS=true
SEARCH_CACHE_TTL=300
SUGGESTIONS_CACHE_TTL=3600
RAG_CACHE_TTL=1800
VECTOR_CACHE_TTL=600

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-at-least-32-characters-long
JWT_EXPIRES_IN=24h

# Rate Limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=60000
RAG_RATE_LIMIT_MAX=20
RAG_RATE_LIMIT_WINDOW=60000

# External Services
CONTENT_INGESTION_SERVICE_URL=http://localhost:3007
FILE_SERVICE_URL=http://localhost:3005
COURSE_SERVICE_URL=http://localhost:3002

# Event Bus Configuration
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=search-service
KAFKA_GROUP_ID=search-service-group

# Indexing Configuration
INDEX_BATCH_SIZE=100
INDEX_CONCURRENCY=5
AUTO_INDEX_ENABLED=true
INDEX_RETRY_ATTEMPTS=3
INDEX_RETRY_DELAY=5000

# Analytics Configuration
ENABLE_SEARCH_ANALYTICS=true
ANALYTICS_BATCH_SIZE=50
ANALYTICS_FLUSH_INTERVAL=30000

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Feature Flags
ENABLE_RAG_SEARCH=true
ENABLE_SEMANTIC_SEARCH=true
ENABLE_HYBRID_SEARCH=true
ENABLE_AUTOCOMPLETE=true
ENABLE_FACETED_SEARCH=true
ENABLE_QUERY_SUGGESTIONS=true
